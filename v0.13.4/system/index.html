<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>System · VoronoiFVM.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">VoronoiFVM.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../changes/">Changes</a></li><li><a class="tocitem" href="../method/">The Voronoi finite volume method</a></li><li><span class="tocitem">API Documentation</span><ul><li><a class="tocitem" href="../physics/">Physics &amp; special functions</a></li><li class="is-active"><a class="tocitem" href>System</a></li><li><a class="tocitem" href="../solutions/">Solutions</a></li><li><a class="tocitem" href="../solver/">Solution methods</a></li><li><a class="tocitem" href="../post/">Postprocessing</a></li><li><a class="tocitem" href="../misc/">Miscellaneous</a></li><li><a class="tocitem" href="../quantities/">Quantities</a></li><li><a class="tocitem" href="../allindex/">Index</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../runexamples/">About the examples</a></li><li><a class="tocitem" href="../examples/Example101_Laplace1D/">101: 1D Laplace equation</a></li><li><a class="tocitem" href="../examples/Example102_StationaryConvectionDiffusion1D/">102: 1D Stationary convection-diffusion equation</a></li><li><a class="tocitem" href="../examples/Example103_ConvectionDiffusion1D/">103: 1D Convection-diffusion equation</a></li><li><a class="tocitem" href="../examples/Example105_NonlinearPoisson1D/">105: 1D Nonlinear Poisson equation</a></li><li><a class="tocitem" href="../examples/Example106_NonlinearDiffusion1D/">106: 1D Nonlinear Diffusion equation</a></li><li><a class="tocitem" href="../examples/Example107_NonlinearStorage1D/">107: 1D Nonlinear Storage</a></li><li><a class="tocitem" href="../examples/Example110_ReactionDiffusion1D_TwoSpecies/">110: 1D Reaction Diffusion equation with two species</a></li><li><a class="tocitem" href="../examples/Example115_HeterogeneousCatalysis1D/">115: 1D heterogeneous catalysis</a></li><li><a class="tocitem" href="../examples/Example120_ThreeRegions1D/">120: Differing species sets in regions, 1D</a></li><li><a class="tocitem" href="../examples/Example121_PoissonPointCharge1D/">121: 1D Poisson with point charge</a></li><li><a class="tocitem" href="../examples/Example125_TestFunctions1D/">125: Terminal flux calculation via test functions</a></li><li><a class="tocitem" href="../examples/Example150_Impedance1D/">150: Impedance calculation</a></li><li><a class="tocitem" href="../examples/Example160_UnipolarDriftDiffusion1D/">160: Unipolar degenerate drift-diffusion</a></li><li><a class="tocitem" href="../examples/Example201_Laplace2D/">201: 2D Laplace equation</a></li><li><a class="tocitem" href="../examples/Example203_CoordinateSystems/">203: Various coordinate systems</a></li><li><a class="tocitem" href="../examples/Example204_HagenPoiseuille/">204: 2D Convection in Hagen-Poiseuille flow</a></li><li><a class="tocitem" href="../examples/Example205_NonlinearPoisson2D/">205: 2D Nonlinear Poisson equation</a></li><li><a class="tocitem" href="../examples/Example210_NonlinearPoisson2D_Reaction/">210: 2D Nonlinear Poisson with reaction</a></li><li><a class="tocitem" href="../examples/Example215_NonlinearPoisson2D_BoundaryReaction/">215: 2D Nonlinear Poisson with boundary reaction</a></li><li><a class="tocitem" href="../examples/Example220_NonlinearPoisson2D_BoundarySpecies/">220: 2D Nonlinear Poisson with boundary reaction and boundary species</a></li><li><a class="tocitem" href="../examples/Example225_TestFunctions2D/">225: Terminal flux calculation via test functions, nD</a></li><li><a class="tocitem" href="../examples/Example226_BoundaryIntegral/">226: Terminal flux calculation via test functions, nD, boundary reaction</a></li><li><a class="tocitem" href="../examples/Example230_BoundaryFlux/">103: Boundary flux</a></li><li><a class="tocitem" href="../examples/Example301_Laplace3D/">301: 3D Laplace equation</a></li><li><a class="tocitem" href="../examples/Example311_HeatEquation_BoundaryDiffusion/">311: Heat Equation with boundary diffusion</a></li><li><a class="tocitem" href="../examples/Example405_GenericOperator/">405: Generic Operator: 1D Nonlinear Poisson equation</a></li><li><a class="tocitem" href="../examples/Example406_WeirdReaction/">406: 1D Weird Surface Reaction</a></li><li><a class="tocitem" href="../examples/Example410_ManySpecies/">410: Many Species</a></li><li><a class="tocitem" href="../examples/Example420_DiscontinuousQuantities/">420: Discontinuous Quantities</a></li><li><a class="tocitem" href="../examples/TestDiffEq/">Comparison with DifferentialEquations.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Documentation</a></li><li class="is-active"><a href>System</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>System</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/j-fu/VoronoiFVM.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="System"><a class="docs-heading-anchor" href="#System">System</a><a id="System-1"></a><a class="docs-heading-anchor-permalink" href="#System" title="Permalink"></a></h1><p>The computational grid is required is assumed to correspond to a domain <span>$\Omega=\cup_{r=1}^{n_\Omega} \Omega_r$</span> </p><p>with boundary  <span>$\partial\Omega=\Gamma=\cup_{b=1}^{n_\Gamma} \Gamma_b$</span>.</p><p>The subdomains <span>$\Omega_r$</span> are called &quot;regions&quot; and the boundary subdomains <span>$\Gamma_b$</span> are called &quot;boundary regions&quot;.</p><p>On this complex of domains &quot;lives&quot;  a number of species which are either attached to a number of regions or to a number of boundary regions.</p><p>Grids for VoronoiFVM are managed by the package  <a href="https://github.com/j-fu/ExtendableGrids.jl">ExtendableGrids.jl</a>.</p><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.AbstractSystem" href="#VoronoiFVM.AbstractSystem"><code>VoronoiFVM.AbstractSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractSystem{Tv&lt;:Number, Ti&lt;:Integer, Tm&lt;:Integer}</code></pre><p>Abstract type for finite volume system structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.DenseSystem" href="#VoronoiFVM.DenseSystem"><code>VoronoiFVM.DenseSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">const DenseSystem</code></pre><p>Type alias for system with dense matrix based species management</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.DenseSystem-Tuple{Any, VoronoiFVM.Physics}" href="#VoronoiFVM.DenseSystem-Tuple{Any, VoronoiFVM.Physics}"><code>VoronoiFVM.DenseSystem</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DenseSystem(grid, physics; matrixindextype)
</code></pre><p>Constructor for DenseSystem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.SparseSystem" href="#VoronoiFVM.SparseSystem"><code>VoronoiFVM.SparseSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">const SparseSystem</code></pre><p>Type alias for system with sparse matrix based species management</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.SparseSystem-Tuple{Any, VoronoiFVM.Physics}" href="#VoronoiFVM.SparseSystem-Tuple{Any, VoronoiFVM.Physics}"><code>VoronoiFVM.SparseSystem</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SparseSystem(grid, physics; matrixindextype)
</code></pre><p>Constructor for SparseSystem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.System" href="#VoronoiFVM.System"><code>VoronoiFVM.System</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct System{Tv, Ti, Tm, TSpecMat&lt;:(AbstractMatrix{T} where T), TSolArray&lt;:(AbstractMatrix{T} where T)} &lt;: VoronoiFVM.AbstractSystem{Tv, Ti, Tm}</code></pre><p>Structure holding data for finite volume system solution.</p><p>Information on species distribution is kept in sparse or dense matrices matrices and, correspondingly,  the solution array is of type SparseSolutionArray or matrix, respectively.</p><p>In the case of sparse unknown storage, the system matrix handles exactly those degrees of freedom which correspond to unknowns. However, handling of the sparse matrix structures for the bookkeeping of the unknowns creates overhead.</p><ul><li><p><code>grid::ExtendableGrids.ExtendableGrid{Tv, Ti} where {Tv, Ti}</code></p><p>Grid</p></li></ul><ul><li><p><code>physics::VoronoiFVM.Physics</code></p><p>Physics data</p></li></ul><ul><li><p><code>boundary_values::Matrix{Tv} where Tv</code></p><p>Array of boundary values</p></li></ul><ul><li><p><code>boundary_factors::Matrix{Tv} where Tv</code></p><p>Array of boundary factors</p></li></ul><ul><li><p><code>region_species::AbstractMatrix{T} where T</code></p><p>Matrix containing species numbers for inner regions</p></li></ul><ul><li><p><code>bregion_species::AbstractMatrix{T} where T</code></p><p>Matrix containing species numbers for boundary regions</p></li></ul><ul><li><p><code>node_dof::AbstractMatrix{T} where T</code></p><p>Matrix containing degree of freedom numbers for each node</p></li></ul><ul><li><p><code>matrix::ExtendableSparse.ExtendableSparseMatrix{Tv, Tm} where {Tv, Tm}</code></p><p>Jacobi matrix for nonlinear problem</p></li></ul><ul><li><p><code>factorization::Union{Nothing, ExtendableSparse.AbstractFactorization{Tv, Tm}} where {Tv, Tm}</code></p><p>Matrix factorization</p></li></ul><ul><li><p><code>species_homogeneous::Bool</code></p><p>Flag which says if the number of unknowns per node is constant</p></li></ul><ul><li><p><code>num_quantities::Any</code></p><p>Number of quantities defined on system</p></li></ul><ul><li><p><code>update::AbstractMatrix{T} where T</code></p><p>Solution vector holding Newton update</p></li></ul><ul><li><p><code>residual::AbstractMatrix{T} where T</code></p><p>Solution vector holding Newton residual</p></li></ul><ul><li><p><code>cellnodefactors::Matrix{Tv} where Tv</code></p><p>Precomputed geometry factors for cell nodes</p></li></ul><ul><li><p><code>celledgefactors::Matrix{Tv} where Tv</code></p><p>Precomputed geometry factors for cell edges</p></li></ul><ul><li><p><code>bfacenodefactors::Matrix{Tv} where Tv</code></p><p>Precomputed geometry factors for boundary nodes</p></li></ul><ul><li><p><code>bfaceedgefactors::Matrix{Tv} where Tv</code></p><p>Precomputed geometry factors for boundary edges</p></li></ul><ul><li><p><code>generic_matrix::SparseArrays.SparseMatrixCSC</code></p><p>Sparse matrix for generic operator handling</p></li></ul><ul><li><p><code>generic_matrix_colors::Vector{T} where T</code></p><p>Sparse matrix colors for generic operator handling</p></li></ul><ul><li><p><code>uhash::UInt64</code></p><p>Hash value of latest unknowns vector the assembly was called with</p></li></ul><ul><li><p><code>allocs::Int64</code></p><p>Data for allocation check</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.System-Tuple{Any, VoronoiFVM.Physics}" href="#VoronoiFVM.System-Tuple{Any, VoronoiFVM.Physics}"><code>VoronoiFVM.System</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function System(grid,physics;
                unknown_storage=:dense;
                matrixindextype=Int32)</code></pre><p>Create Finite Volume System. </p><ul><li><code>grid</code>: 1D/2D/3D discretization grid</li><li><code>physics</code>: Physics struct containing node and edge callbacks</li><li><code>unknown_storage</code>: string or symbol:<ul><li><code>:dense</code> :  solution vector is an  <code>nspecies</code> x <code>nnodes</code>  dense matrix</li><li><code>:sparse</code> :  solution vector is an <code>nspecies</code> x <code>nnodes</code>  sparse matrix</li></ul></li><li><code>matrixindextype</code> : Index type for sparse matrices created in the system</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.reshape-Tuple{Any, VoronoiFVM.AbstractSystem}" href="#Base.reshape-Tuple{Any, VoronoiFVM.AbstractSystem}"><code>Base.reshape</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reshape(v, system)
</code></pre><p>Reshape vector to fit as solution to system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LinearAlgebra.norm-Tuple{VoronoiFVM.AbstractSystem, Any, Any}" href="#LinearAlgebra.norm-Tuple{VoronoiFVM.AbstractSystem, Any, Any}"><code>LinearAlgebra.norm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">norm(system, u, p)
</code></pre><p>Calculate norm, paying attention to species distribution over regions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.addzrows-Tuple{Matrix{T} where T, Any}" href="#VoronoiFVM.addzrows-Tuple{Matrix{T} where T, Any}"><code>VoronoiFVM.addzrows</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">addzrows(matrix,maxrow)</code></pre><p>Return matrix with number of rows increased to maxrow, and set the new elements to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.boundary_dirichlet!-Tuple{VoronoiFVM.AbstractSystem, Integer, Any, Any}" href="#VoronoiFVM.boundary_dirichlet!-Tuple{VoronoiFVM.AbstractSystem, Integer, Any, Any}"><code>VoronoiFVM.boundary_dirichlet!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">boundary_dirichlet!(system, ispec, ibc, v)
</code></pre><p>Set Dirichlet boundary condition for species ispec at boundary ibc:</p><p><span>$u_{ispec}=v$</span> on <span>$\Gamma_{ibc}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.boundary_neumann!-Tuple{VoronoiFVM.AbstractSystem, Any, Any, Any}" href="#VoronoiFVM.boundary_neumann!-Tuple{VoronoiFVM.AbstractSystem, Any, Any, Any}"><code>VoronoiFVM.boundary_neumann!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">boundary_neumann!(system, ispec, ibc, v)
</code></pre><p>Set Neumann boundary condition for species ispec at boundary ibc:</p><p><span>$\mathrm{flux}_{ispec}\cdot \vec n=v$</span> on <span>$\Gamma_{ibc}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.boundary_robin!-Tuple{VoronoiFVM.AbstractSystem, Any, Any, Any, Any}" href="#VoronoiFVM.boundary_robin!-Tuple{VoronoiFVM.AbstractSystem, Any, Any, Any, Any}"><code>VoronoiFVM.boundary_robin!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">boundary_robin!(system, ispec, ibc, α, v)
</code></pre><p>Set Robin boundary condition for species ispec at boundary ibc:</p><p><span>$\mathrm{flux}_{ispec}\cdot \vec n + \alpha u_{ispec}=v$</span> on <span>$\Gamma_{ibc}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.check_allocs!-Tuple{VoronoiFVM.AbstractSystem, Bool}" href="#VoronoiFVM.check_allocs!-Tuple{VoronoiFVM.AbstractSystem, Bool}"><code>VoronoiFVM.check_allocs!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_allocs!(system,true_or_false)</code></pre><p>Enable/disable checking for time-consuming allocations in the assembly loop.  By default,  this check  is switched off.  By setting  the environment variable <code>ENV[&quot;VORONOIFVM_CHECK_ALLOCS&quot;]=&quot;true&quot;</code>, this  default can be changed.</p><p>Unless  the   matrix  pattern  changes,  there   shouldn&#39;t  occur  any allocations in this loop. The check  method is aware of matrix pattern changes. As a consequence, allocations in the assembly loop are mostly due to type instabilities in physics callbacks, see the the discussion <a href="../runexamples/#Performance-with-closures">here</a>.  Type instabilities can be debugged via the <code>@time</code>  macro applied to expressions in a physics callback.</p><p>The following  cases provide some ideas  where to look for  reasons of the problem and possible remedies:</p><p>Case 1: a parameter changes its value, and Julia is not sure about the type.</p><pre><code class="language-julia hljs">eps=1.0

flux(f,_u,edge)
    u=unkowns(edge,_u)
    f[1]=eps*(u[1,1]-[1,2])
end
... solve etc ...
eps=2.0</code></pre><p>Remedy: use a type annotation <code>eps::Float64=...</code> to signalize your intent to Julia. This behaviour is explained in the <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#man-performance-captured">Julia documentation</a>.</p><p>Case 2: variables in the closure have the same name as a variable introduced in a callback.</p><pre><code class="language-julia hljs">flux(f,_u,edge)
    u=unkowns(edge,_u)
    f[1]=(u[1,1]-[1,2])
end

... create etc ...

u=solve(...)</code></pre><p>Remedy: rename e.g. <code>u=solve()</code> to <code>sol=solve()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.data-Tuple{VoronoiFVM.AbstractSystem}" href="#VoronoiFVM.data-Tuple{VoronoiFVM.AbstractSystem}"><code>VoronoiFVM.data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">data(system)
</code></pre><p>Retrieve user data record.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.enable_boundary_species!-Tuple{VoronoiFVM.AbstractSystem, Integer, AbstractVector{T} where T}" href="#VoronoiFVM.enable_boundary_species!-Tuple{VoronoiFVM.AbstractSystem, Integer, AbstractVector{T} where T}"><code>VoronoiFVM.enable_boundary_species!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">enable_boundary_species!(system,ispec,regions)</code></pre><p>Add species <code>ispec</code> to a list of boundary regions. Species numbers for bulk and boundary species have to be distinct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.enable_species!-Tuple{VoronoiFVM.AbstractSystem, Integer, AbstractVector{T} where T}" href="#VoronoiFVM.enable_species!-Tuple{VoronoiFVM.AbstractSystem, Integer, AbstractVector{T} where T}"><code>VoronoiFVM.enable_species!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">enable_species!(system,ispec,regions)</code></pre><p>Add species <code>ispec</code> to a list of bulk regions. Species numbers for bulk and boundary species have to be distinct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.generic_operator_sparsity!-Tuple{VoronoiFVM.AbstractSystem, SparseArrays.SparseMatrixCSC}" href="#VoronoiFVM.generic_operator_sparsity!-Tuple{VoronoiFVM.AbstractSystem, SparseArrays.SparseMatrixCSC}"><code>VoronoiFVM.generic_operator_sparsity!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generic_operator_sparsity!(system, sparsematrix)
</code></pre><p>Set generic operator sparsity, in the case where a generic operator has been defined in physics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.increase_num_species!-Tuple{Any, Any}" href="#VoronoiFVM.increase_num_species!-Tuple{Any, Any}"><code>VoronoiFVM.increase_num_species!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs"> increase_num_species!(system,maxspec)</code></pre><p>Increase number of species in system to maxspec by adding new rows to all  relevant matrices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.is_boundary_species-Tuple{VoronoiFVM.AbstractSystem, Any}" href="#VoronoiFVM.is_boundary_species-Tuple{VoronoiFVM.AbstractSystem, Any}"><code>VoronoiFVM.is_boundary_species</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_boundary_species(AbstractSystem, ispec) -&gt; Bool</code></pre><p>Check if species number corresponds to a boundary species.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.is_bulk_species-Tuple{VoronoiFVM.AbstractSystem, Any}" href="#VoronoiFVM.is_bulk_species-Tuple{VoronoiFVM.AbstractSystem, Any}"><code>VoronoiFVM.is_bulk_species</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_bulk_species(AbstractSystem, ispec) -&gt; Bool</code></pre><p>Check if species number corresponds to a bulk species.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.isdof-Tuple{VoronoiFVM.AbstractSystem, Any, Any}" href="#VoronoiFVM.isdof-Tuple{VoronoiFVM.AbstractSystem, Any, Any}"><code>VoronoiFVM.isdof</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isdof(system, ispec, inode)
</code></pre><p>Check if degree of freedom is defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.num_dof-Tuple{VoronoiFVM.AbstractSystem}" href="#VoronoiFVM.num_dof-Tuple{VoronoiFVM.AbstractSystem}"><code>VoronoiFVM.num_dof</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_dof(system)
</code></pre><p>Number of degrees of freedom for system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.num_species-Tuple{AbstractArray}" href="#VoronoiFVM.num_species-Tuple{AbstractArray}"><code>VoronoiFVM.num_species</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_species(a)
</code></pre><p>Number of species (size of first dimension) of solution array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.num_species-Tuple{VoronoiFVM.AbstractSystem}" href="#VoronoiFVM.num_species-Tuple{VoronoiFVM.AbstractSystem}"><code>VoronoiFVM.num_species</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_species(system)
</code></pre><p>Number of species in system</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.unknowns-Tuple{Type, VoronoiFVM.AbstractSystem}" href="#VoronoiFVM.unknowns-Tuple{Type, VoronoiFVM.AbstractSystem}"><code>VoronoiFVM.unknowns</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unknowns(Tu, sys; inival)
</code></pre><p>Create a solution vector for system with elements of type <code>Tu</code>. If inival is not specified, the entries of the returned vector are undefined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.unknowns-Tuple{VoronoiFVM.AbstractSystem}" href="#VoronoiFVM.unknowns-Tuple{VoronoiFVM.AbstractSystem}"><code>VoronoiFVM.unknowns</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unknowns(system; inival)
</code></pre><p>Create a solution vector for system. If inival is not specified, the entries of the returned vector are undefined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VoronoiFVM.update_grid!-Union{Tuple{VoronoiFVM.AbstractSystem{Tv, Ti, Tm}}, Tuple{Tm}, Tuple{Ti}, Tuple{Tv}} where {Tv, Ti, Tm}" href="#VoronoiFVM.update_grid!-Union{Tuple{VoronoiFVM.AbstractSystem{Tv, Ti, Tm}}, Tuple{Tm}, Tuple{Ti}, Tuple{Tv}} where {Tv, Ti, Tm}"><code>VoronoiFVM.update_grid!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_grid!(system; grid=system.grid)</code></pre><p>Update grid (e.g. after rescaling of coordinates).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/j-fu/VoronoiFVM.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../physics/">« Physics &amp; special functions</a><a class="docs-footer-nextpage" href="../solutions/">Solutions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Saturday 13 November 2021 22:30">Saturday 13 November 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
